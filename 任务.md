----------8月份任务------------------
# 3U前面板开发 8月7号开始
* 说是之前硬件的同事一个月就写完了

## 移植 --建珩
* 配置引脚
* 移植LVGL
* 移植FreeRTOS
* 串口可以先不移植

## 写代码 

--------临时任务--------- python 功率计上位机软件开发
### 1-界面1
* -->2U发送校准指令
* -->2U设置开始频率，结束频率/功率/衰减器初值（默认值）
* -->设置功率计的功率
* -->读取功率计想读应频率的功率，并加上线损功率，是一个范围
* -->判断该功率与设置的功率插值是否小于等于0.01db
  * -->是，读取AD等4个值写进文件
    * -->判断功率是否为最小功率
      * 否-->+0.01db 设置功率值
      * 是-->判断频率是否为停止值
        * 是-->结束
        * 否-->重新设置频率功率 进入循环

## 功率计校准软件协议
* 包头 7e 7e 10(控制模式) 数据长度（配置参数+参数值+e7（包尾））+配置参数 + 参数值 + 包尾
* 设置工作模式 7e 7e 10 03 01 00 e7
* 设置校准模式 7e 7e 10 03 01 01 e7

* 设置频率     7e 7e 10  len(02 + data + e7)  02 data e7   data:9k-40G len:8
* 设置功率     7e 7e 10  len(03 + data + e7)  03 data e7   data:-10~15 / -10~13 len: 4
* 设置衰减量1  7e 7e 10  len(04 + data + e7)  04 data e7   data:0-63 len:1
* 设置衰减量2  7e 7e 10  len(05 + data + e7)  05 data e7   data:0-63 len:1
* 设置压控DA值 7e 7e 10  len(06 + data + e7)  06 data e7   data:     len:2
* 读取检波器AD 7e 7e 10  len(07 + data + e7)  07 data e7   data:     len:2
* 读取温度     7e 7e 10  len(08 + data + e7)  08 data e7   data：    len:2
* 读取DDS     7e 7e 10  len(09 + data + e7)  09 data e7   data:     len:2
* 读取FLASH   7e 7e 10  len(0a + data + e7)  0a data e7   data:15-1b len: 2 20 len:1
* 操作flash   7e 7e 10  len(0b + data + e7)  0b data e7
  * data: 1B 00000000 0位为1 当前状态写入flash 自动清0
  * 1位为1 读取当前频率和功率下的校准数据，并赋值给寄存器15-17 后自动清0
  * 2位为1 清除flash
  * 3位位1 再不改变之前的校准数据下，修改当前频点的校准值
* 功率计在设置2U频率的时候 也需要设置一下功率计的频率 然后再读取功率计的功率
  * FREQ 500khz 设置频率
  * FETC2?       读取CALCulate2的测量值
  * 
  
## 2U返回值
* 7e7e + 10 + 数据长度（同写） + 功能码 + 00：成功 01：失败 02：异常 + data + e7

* 一个频点一个频点的校准 以10m为步进

## 2U遗留问题
* 选中框 按哪个按键 就显示哪个选中框 没有找到底层选中框的位置

## 校准软件c版本问题
* 频段判断的位置有一个地方写错
